:root { --collection-sticky-z: 80; }

/* Ensure upstream wrappers don’t kill sticky/fixed via overflow or transforms */
.page-width, .collection-grid__inner {
  overflow: visible !important;
}

/* Wrap establishes the docking context */
.sticky-filters-wrap {
  position: relative; /* used when docking at the end */
}

/* Placeholder maintains layout height when bar goes fixed */
.sticky-filters-placeholder {
  height: 0;
}

/* Bar styles – keep visual parity; we don’t alter inner markup */
.sticky-filters-bar {
  background: var(--color-background, #fff);
  will-change: transform;
  z-index: var(--collection-sticky-z);
}

/* Fixed state: width/left set via JS to match .page-width */
.sticky-filters-bar.is-fixed {
  box-shadow: 0 1px 0 rgba(0,0,0,.06);
}

/* Docked state (just before footer) */
.sticky-filters-bar.is-docked {
  position: absolute !important;  /* top/left/width handled by JS */
  right: 0;
}

/* Make sure header is above us if it’s also sticky/fixed */
#shopify-section-header, .header-wrapper, header[role="banner"] {
  z-index: calc(var(--collection-sticky-z) + 10) !important;
}

/* Neutralize random margins that can cause visual jump */
.sticky-filters-bar .collection-filters,
.sticky-filters-bar collection-filters {
  margin: 0 !important;
}