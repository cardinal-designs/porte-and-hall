<div id="faqs">
  <div class="page-width">
    <div class="row">
      <div class="col-12">
        <h2>{{ section.settings.title }}</h2>    
      </div>
    </div>
   <div class="faq-items row">
    {% for block in section.blocks %}
      <div class="faq-col">
        <div class="faq-col-inner">
          <p class="body Faq_Question">{{ block.settings.title }}</p>
          <div class="body Faq_Answer">{{ block.settings.answer }}</div>    
        </div>
      </div>
    {% endfor %}
    </div>
  </div>
</div>

<style>
  
  #faqs {
    background-color: {{ section.settings.bg_color }};
    color: {{ section.settings.color }};
    padding: 100px 0;
  }

  #faqs .faq-col-inner {
    padding: 30px 0;
    position: relative;
    cursor: pointer;
    border-top: 1px solid #546B82;
  }

  #faqs p {
    color: inherit;
  }

  .Faq_Question {
    font-weight: 500;
  }

  .Faq_Answer {
    font-weight: 400;
    height: 0;
    opacity: 0;
  }
  
  #faqs h2 {
    margin: 0 auto 38px;
    padding: 0 11px;
  }

  #faqs p.faq-title {
    margin-bottom: 0px;
    padding-right: 30px;
    line-height: 1.15;
  }

  #faqs .faq-arrow {
    position: absolute;
    top: 41px;
    right: 48px;
    width: 23px;
  }

  #faqs .container {
    max-width: 1781px;
    padding: 0 15px !important;
    width: 100%;
    margin: 0 auto;    
  }
  
  .faq-items-wrapper {
    padding: 0 30px;
  }
  
  .faq-items .faq-col {
     padding: 0 11px;
  }

  #faqs .faq-col-inner.active .faq-arrow {
    transform: rotate(180deg);
  }

  #faqs .faq-col-inner .faq-answer {
    display: none;
  }

  #faqs .faq-col-inner.active .faq-answer {
    display: block;
    padding-top: 20px;
  }

  #faqs .faq-col-inner .faq-answer p {
    font-size: 20px;
  }

  #faqs .faq-items {
    display: block;
    column-count: 2;
  }

  #faqs .faq-items > div {
    width: 100%;
    -webkit-break-inside: avoid;
    -moz-break-inside: avoid;
    -o-break-inside: avoid;
    -ms-break-inside: avoid;
    break-inside: avoid;
    padding: 0 11px;
  }
  
  .Faq_Answer.active {
    height: 100%;
    opacity: 1;
  }

</style>

<script>
  var acc = document.getElementsByClassName("Faq_Answer");
  var i;
  
  for (i = 0; i < acc.length; i++) {
    acc[i].addEventListener("click", function() {
      this.classList.toggle("active");
      var panel = this.nextElementSibling;
      if (panel.style.maxHeight) {
        panel.style.maxHeight = null;
      } else {
        panel.style.maxHeight = panel.scrollHeight + "px";
      } 
    });
  }
</script>

{% schema %}
{
  "name": "FAQs",
  "settings": [
    {
      "type": "color",
      "id": "bg_color",
      "label": "Section Background Color",
      "default": "#FFE8D5"
    },
    {
      "type": "color",
      "id": "bg_color_answer",
      "label": "Question Background Color",
      "default": "#A34C24"
    },
    {
      "type": "color",
      "id": "bg_color_answer_active",
      "label": "Question Background Color (Active)",
      "default": "#E31C79"
    },
    {
      "type": "color",
      "id": "color",
      "label": "Font Color",
      "default": "#ffffff"
    },
    {
      "type": "text",
      "id": "main_header",
      "label": "Header",
      "default": "Ingredients"
    },
    {
      "type": "text",
      "id": "title",
      "label": "Header Text"
    }
  ],
  "blocks": [
    {
      "type": "Item",
      "name": "FAQ Item",
      "settings": [
        {
          "type": "text",
          "id": "title",
          "label": "Question"
        },
        {
          "type": "richtext",
          "id": "answer",
          "label": "Answer"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "FAQs"
    }
  ]
}
{% endschema %}
