{{ 'section-hero.css' | asset_url | stylesheet_tag }}

<div class="222 hero video-with-text">
  <div class="hero__content">
    <div class="hero__container">
      <h3 class="hero__title">{{ section.settings.title }}</h3>
      <p>{{ section.settings.sub-text }}</p>
      <div class="content-section">
        {{ section.settings.content }}
      </div>
    </div>
  </div>

  <div class="hero__media">
    {% if section.settings.video != blank %}
      {% liquid
        assign classes = 'videos'
        if section.settings.mobile_video != blank
          assign classes = 'videos hide-mobile'
        endif
      %}
      {{ section.settings.video | video_tag: autoplay: false, loop: false, muted: true, controls: false, class: classes, id: 'video-with-text-vid', image_size: '1000x' }}
      {% if section.settings.mobile_video != blank %}
        {{ section.settings.video | video_tag: autoplay: false, loop: false, muted: true, controls: false, class: 'videos hide-desktop', id: 'video-with-text-vid', image_size: '1000x' }}
      {% endif %}
    {% endif %}
    <div id="circle-play" class="hero__element">
      <svg xmlns="http://www.w3.org/2000/svg" width="45" height="50" viewBox="0 0 45 50" fill="none">
      <path d="M42.9214 21.5359C45.5881 23.0755 45.5881 26.9245 42.9214 28.4641L6.92138 49.2487C4.25472 50.7883 0.921387 48.8638 0.921387 45.7846L0.921387 4.21539C0.921387 1.13619 4.25472 -0.788311 6.92139 0.751289L42.9214 21.5359Z" fill="white"/>
      </svg>
    </div>
  </div>
</div>

<!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script> -->
<script>
 //   $('.videos').parent().click(function () {
 //    if($(this).children(".videos").get(0).paused){
 //   $(this).children(".videos").get(0).play();   
 //  $(this).children(".hero__element").fadeOut();
 //  }else{       
 //  $(this).children(".videos").get(0).pause();
     
 //    $(this).children(".hero__element").fadeIn();
 //  }
      
 // });

 //  $('.videos').parent().click(function () {
 //    if($(this).children(".videos").get(0).paused){
 //          $(this).children(".videos").get(0).play();   
 //          $(this).children(".hero__element").fadeOut();
 //    }else{
 //        $(this).children(".videos").get(0).stop();
 //        $(this).children(".hero__element").fadeIn();
 //    }
    
      
 // });


  
  {% comment %} const video = document.getElementsByClassName("videos");
  const circlePlayButton = document.getElementsByClassName("hero__element");
  
  function togglePlay() {
  	if (video.paused || video.ended) {
  		video.play();
  	} else {
  		video.pause();
  	}
  }
  
  circlePlayButton.addEventListener("click", togglePlay);
  video.addEventListener("playing", function () {
  	circlePlayButton.style.opacity = 0;
  });
  video.addEventListener("pause", function () {
  	circlePlayButton.style.opacity = 1;
  }); {% endcomment %}


  const video = document.getElementById("video-with-text-vid");
  const circlePlayButton = document.getElementById("circle-play");
  
  function togglePlay() {
  	if (video.paused || video.ended) {
  		video.play();
  	} else {
  		video.pause();
  	}
  }
  
  circlePlayButton.addEventListener("click", togglePlay);
  video.addEventListener("playing", function () {
  	circlePlayButton.style.opacity = 0;
  });
  video.addEventListener("pause", function () {
  	circlePlayButton.style.opacity = 1;
  });

  
</script>

{% schema %}
{
  "name": "Video with text",
  "class": "video-text",
  "settings": [
    {
      "type": "header",
      "content": "Video"
    },
    {
      "type": "video",
      "id": "video",
      "label": "Video (default media if populated)"
    },
    {
      "type": "video",
      "id": "mobile_video",
      "label": "Mobile Video"
    },
    {
      "type": "header",
      "content": "Content"
    },
    {
      "type": "text",
      "id": "title",
      "label": "Title"
    },
    {
      "type": "textarea",
      "id": "sub-text",
      "label": "Content"
    },
    {
      "type": "textarea",
      "id": "content",
      "label": "List Section"
    }
  ],
  "presets": [
    {
      "name": "Video with text"
    }
  ]
}
{% endschema %}

<style>
  .video-with-text .hero__element{
    right: 50%;
    bottom: 50%;
    transform: translate(50%, 50%);
    width: auto;
    cursor: pointer;
  }

  .video-text .hero__content .hero__container .hero__title{
    font-size: 56px;
    font-style: normal;
    font-weight: 500;
    line-height: 62px; /* 110.714% */
    letter-spacing: 1.12px;
    font-family: louize;
    position:relative;
    text-transform:none;
  }

  .video-text .hero__content .hero__container .hero__title:before{
    content: '';
    background: #D2B066;
    position:absolute;
    width: 159px;
    height: 4px;
    bottom: -9px;
  }

   .video-text .hero__content .hero__container p{
       font-family: brandon;
      font-size: 20px;
      font-style: normal;
      font-weight: 400;
      line-height: 28px; /* 140% */
      max-width:400px;
   }

  .video-text .hero__content .hero__container .content-section li{
      position:relative;
      font-family: brandon;
      font-size: 16px;
      font-style: normal;
      font-weight: 400;
      line-height: 18px; /* 175% */
      margin-bottom:10px;
  }
  .video-text .hero__container{
     border:none !important;
  }
  .video-text .hero__content .hero__container .content-section li::marker{
     display:none !important;
     color:#546B82;
  }

   .video-text .hero__content .hero__container .content-section li:before{
       content:'';
       position:absolute;
       width: 9px;
       height:9px;
       background:transparent;
       left: -19px;
       border: 1.5px solid #D2B066;
       transform: rotate(-45deg);
       bottom: 5px;
   }

   .video-text .hero__content .hero__container .content-section{
      margin-left: -15px;
   }
  .hero.video-with-text{
    background: var(--blue);
    min-height: 450px;
  }
  .hero.video-with-text .hero__content{
    padding:0px;
  }

  @media screen and (min-width: 769px){
    .hero.video-with-text{
      grid-template-columns:1.3fr 1fr;
      padding: 0 20px 0px;
      margin-top: 40px;
      min-height: 350px;
    }
    .hero.video-with-text .hero__container{
      padding: 20px 20px 20px 0;
      max-width: 100%;
    }
    .hero.video-with-text .hero__media{
      top:-40px;
    }
    .hero.video-with-text .hero__media{
      aspect-ratio: 16/9;
      width: 100%;
      height: 100%;
    }
  }
  
  @media screen and (min-width: 1200px){
    .hero.video-with-text{
      grid-template-columns:1.3fr 1fr;
      padding: 0 80px 0px;
      margin-top: 40px;
      min-height: 450px;
    }
    .hero.video-with-text .hero__container{
      padding: 60px;
      max-width: 85%;
    }
    .hero.video-with-text .hero__media{
      top:-40px;
    }
  }

  @media screen and (max-width: 768px){
    .video-text .hero__container{
      padding:0px 20px 20px;
      margin-top:-20px;
    }
    .hero.video-with-text .hero__media{
      top:-40px;
      padding:0 20px;
    }
    .hero.video-with-text{
      margin-top:40px;
    }
  }

    @media screen and (max-width: 640px) {
      .video-text .hero__content .hero__container .hero__title{
        font-size: 32px;
        font-weight: 500;
        line-height: 40px;
        letter-spacing: 0.64px;
      }
     .video-text .hero__content .hero__container p, .video-text .hero__content .hero__container .content-section li {
        font-size: 14px;
      font-weight: 400;
      line-height: 18px;
       margin-top:12px;
      }
      .video-text .hero__content .hero__container .hero__title:before{
         width: 90px;
      }
      .video-text .hero__content .hero__container .content-section li:before{
         bottom: 5px;
      }
    }

  
</style>

